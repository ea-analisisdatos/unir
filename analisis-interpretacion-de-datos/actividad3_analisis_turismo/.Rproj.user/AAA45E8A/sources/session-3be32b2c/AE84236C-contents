---
title: |
  ![](https://raw.githubusercontent.com/ea-analisisdatos/unir/refs/heads/main/analisis-interpretacion-de-datos/actividad3_analisis_turismo/imagenes/1.png){width=1600px} 
date:
output:
  html_document:
    toc: true
    toc_float: true
    number_sections: true
    theme: flatly
    highlight: textmate
    df_print: paged
editor_options:
  markdown:
    wrap: 72
bibliography: references.bib
---

::: {style="text-align: center;"}
<h1><b>An√°lisis Inferencial de la Satisfacci√≥n Tur√≠stica</b></h1>

<h4>Alumna: Erika Samara Alvares Angelim</h4>

<h4>Profesor: Gustavo N√©stor Fontana Riera</h4>

<h4>Asignatura: An√°lisis e Interpretaci√≥n de Datos</h4>

<h4>Fecha: `r format(Sys.Date(), '%d de %B de %Y')`</h4>
:::

# Introducci√≥n

Este cuaderno desarrolla el an√°lisis estad√≠stico inferencial de datos
del sector tur√≠stico, en el marco de la Actividad 3. Se abordan dos
preguntas:

-   1Ô∏è ¬øLa satisfacci√≥n tur√≠stica media general supera un valor de
    referencia?
-   2Ô∏è‚É£ ¬øExisten diferencias de satisfacci√≥n entre turistas con y sin
    necesidades de accesibilidad?

La variable `satisfaction` se mide en **escala Likert de 1 a 5**. Aunque
se trata de una escala ordinal, se considera cuasi-continua y se trata
como num√©rica, lo cual permite aplicar t√©cnicas como t-test y an√°lisis
de correlaci√≥n, tal como se justifica en estudios previos [(Joshi et al.,
2015)](https://journalcjast.com/index.php/CJAST/article/view/381 "Ir a la fuente").

El dataset original se encuentra en [Kaggle: Cultural Tourism
Dataset](https://www.kaggle.com/datasets/ziya07/cultural-tourism-dataset).
Contiene registros simulados sobre turistas, preferencias, rutas,
accesibilidad y evaluaci√≥n de servicios como realidad virtual (VR).

Tambi√©n se incluir√°n an√°lisis exploratorios, transformaciones y
visualizaciones intermedias para enriquecer las conclusiones.

------------------------------------------------------------------------

# Configurar entorno

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)
```

```{r configura_notacion_cientifica}
options(scipen = 999)  # Desactiva la notaci√≥n cient√≠fica
```

# Carga de paquetes necesarios

Se utiliza `pacman` para instalar y cargar de forma m√°s eficiente
m√∫ltiples paquetes necesarios. Esta librer√≠a evita errores por
duplicidad y permite mantener el c√≥digo limpio.

```{r cargar-paquetes}
if (!require("pacman")) install.packages("pacman")
pacman::p_load(
  tidyverse,         # Manipulaci√≥n y visualizaci√≥n de datos
  skimr,             # Resumen estad√≠stico completo con histogramas
  kableExtra,        # Tablas HTML m√°s est√©ticas
  janitor,           # Limpieza de nombres de columnas
  modeest,           # C√°lculo de la moda
  raster,            # C√°lculo del coeficiente de variaci√≥n
  moments,           # Asimetr√≠a y curtosis
  ggcorrplot,        # Mapa de calor de correlaciones
  corrplot,          # Mapa de calor de correlaciones  
  readr,             # Lectura de CSV
  ggplot2,           # Gr√°ficos
  dplyr,             # Manipulaci√≥n de datos
  stringr,           # Operaciones con texto (√∫til para limpiar intereses)
  moderndive,
  nycflights13
)
```

> ‚ÑπÔ∏è Evitamos conflictos con `library()` y `require()`.

------------------------------------------------------------------------

# Carga y limpieza inicial de los datos

## Cargar datos desde URL p√∫blica

```{r carga-datos}
# Cargar el dataset directamente desde GitHub
url_datos <- "https://raw.githubusercontent.com/ea-analisisdatos/unir/refs/heads/main/datos/tourism_dataset_5000.csv"
datos <- read_csv(url_datos)
```

## Visualizar primeras l√≠neas del dataset original

```{r ver-datos-original}
head(datos, 5) # mostra las primeras 5 filas del dataframe
```

> ‚ÑπÔ∏è Observa tambi√©n que no se muestran todas las columnas. Puedes
> pulsar el √≠cono de "flecha ‚ñ∂Ô∏è" en la esquina superior derecha de la
> tabla para explorarlas.

```{r verificar-nombres-columnas-no-normalizados}
# Verificar nombres de columnas
columnas <- colnames(datos)
columnas
```

> ‚ÑπÔ∏è Los nombres de columnas incluyen espacios, lo que puede dificultar
> el trabajo en R.

------------------------------------------------------------------------

# üßπ Limpieza de datos

## Limpieza de nombres de columnas

Este paso, `janitor` convierte los nombres compuestos de las columnas en
formato snake_case, sin espacios ni s√≠mbolos, facilitando su uso en R.

```{r limpiar-nombres}
datos <- janitor::clean_names(datos)
head(datos, 5)
```

> ‚ÑπÔ∏è Puedes pulsar el √≠cono de "flecha ‚ñ∂Ô∏è" en la esquina superior
> derecha de la tabla HTML para explorarlas.

```{r verificar-nombres-columnas-normalizados}
# Verificar nombres de columnas despues de la limpieza
columnas <- colnames(datos)
columnas
```

## Convertir las columnas `route_id` a factor (variable categ√≥rica)

```{r convertir-route_id}
datos <- datos %>%
  mutate(route_id = as.factor(route_id))
```

## Convertir las columnas `tourist_id` a factor (variable categ√≥rica)

```{r convertir-tourist_id}
datos <- datos %>%
  mutate(tourist_id = as.factor(tourist_id))
```

> ‚ÑπÔ∏è Aunque tienen valores num√©ricos, `tourist_id` y `route_id` son
> identificadores sin sentido ordinal. Por tanto, deben tratarse como
> factores.

------------------------------------------------------------------------

## Limpieza y descomposici√≥n de la columna interests

```{r limpieza-decomposicion-interests}
# Limpiar caracteres especiales y descomponer en filas
intereses_limpios <- datos %>%
  mutate(interests = str_replace_all(interests, "\\[|\\]|‚Äò|‚Äô|'|\"", "")) %>%  # elimina caracteres extra√±os
  separate_rows(interests, sep = ",\\s*") %>%                                 # divide por comas
  mutate(interests = str_trim(interests)) %>%                                 # quita espacios
  count(interests, sort = TRUE)                                               # cuenta ocurrencias

```

> ‚ÑπÔ∏è Comentario t√©cnico:
>     `separate_rows()` descompone listas multivaluadas creando una nueva fila por cada elemento de inter√©s individual.
>     El dataframe final muestra una fila por cada categor√≠a de inter√©s √∫nica con su frecuencia total consolidada.


------------------------------------------------------------------------

# Estructura general del dataset

## Consideraciones sobre los tipos de variables

Aunque varias variables del dataset est√°n codificadas como num√©ricas, en
realidad representan **escalas ordinales**, como ocurre con:

-   `satisfaction`: Satisfacci√≥n general (escala Likert 1‚Äì5)
-   `tourist_rating`: Valoraci√≥n del turista (escala Likert 1‚Äì5)
-   `vr_experience_quality`: Calidad de la experiencia VR (escala Likert
    1‚Äì5)
-   `recommendation_accuracy`: Precisi√≥n del sistema (0‚Äì100, asimilable
    a escala continua)
-   `preferred_tour_duration`: Preferencia en duraci√≥n de tours (en
    d√≠as)

Estas variables **mantienen un orden l√≥gico entre categor√≠as**, pero no
necesariamente equidistante. Sin embargo, en an√°lisis estad√≠sticos como:
<br>

> -   **Test t de Student** (para comparar medias)<br>
> -   **Correlaciones de Pearson** (entre variables)<br>

... es com√∫n y aceptado tratar escalas **ordinales con m√°s de 3
categor√≠as** como **cuantitativas** (de intervalo), especialmente si
est√°n bien distribuidas. <br>

> -   En este estudio, se tratar√°n como num√©ricas para aprovechar los
>     m√©todos inferenciales, pero se dejar√° constancia de su naturaleza
>     ordinal.<br>
> -   Esto se justifica ampliamente en literatura estad√≠stica aplicada
>     [(Boone & Boone, 2012; Joshi et al.,
>     2015)](https://open.clemson.edu/joe/vol50/iss2/48/ "Ir a la fuente")
>     cuando se asume que las distancias entre valores en escalas
>     ordinales son equidistantes y se desea realizar an√°lisis
>     param√©tricos.

```{r estructura-datos}
# C√≥mo est√°n estructurados los datos internamente
glimpse(datos)
```

> ‚ÑπÔ∏è `glimpse()` ofrece una descripci√≥n compacta: tipo de cada columna,
> primeras observaciones y estructuras.

## Verificaci√≥n de tipos de variables

```{r tabla-variables}
# Tabla con tipos de datos
tabla_variables <- tibble(
  Variable = names(datos),
  Tipo = sapply(datos, function(x) class(x)[1])
)
kable(tabla_variables, format = "html", caption = "Tipos de variables") %>%
  kable_styling(full_width = FALSE, bootstrap_options = c("striped", "hover", "condensed"))
```

## Diccionario de datos

Este diccionario ayuda a interpretar cada columna del dataset original.
Algunas variables presentan valores de tipo ordinal, como escalas Likert
de 1 a 5.

```{r diccionario-datos, echo=FALSE}
tribble(
  ~Variable, ~Descripci√≥n,
  "tourist_id", "Identificador √∫nico del turista",
  "age", "Edad del turista",
  "interests", "Temas de inter√©s",
  "preferred_tour_duration", "Duraci√≥n preferida del tour (d√≠as)",
  "accessibility", "Requiere accesibilidad (TRUE/FALSE)",
  "site_name", "Nombre del sitio visitado",
  "sites_visited", "Lista de sitios visitados",
  "tour_duration", "Duraci√≥n del tour realizado",
  "route_id", "ID de la ruta tur√≠stica",
  "tourist_rating", "Valoraci√≥n del turista (1-5)",
  "system_response_time", "Tiempo de respuesta del sistema",
  "recommendation_accuracy", "Precisi√≥n de recomendaciones (%)",
  "vr_experience_quality", "Calidad de experiencia VR (1-5)",
  "satisfaction", "Satisfacci√≥n general (1-5)"
) %>%
  kable(format = "html", caption = "Diccionario de datos") %>%
  kable_styling(full_width = FALSE)

```


# Evaluaci√≥n de calidad y estad√≠sticos descriptivos

## Resumen general con skimr

`skimr` muestra tipo de variable, valores √∫nicos, media, desviaci√≥n, y
distribuci√≥n en mini histograma. Ideal para descripci√≥n exploratoria.

```{r resumen-dataset}
# An√°lisis descriptivo r√°pido
skim(datos)
```

> ‚ÑπÔ∏è skimr muestra:<br>
>
> -   Tipo de variable. - N√∫mero de valores √∫nicos.
>
> -   Media y desviaci√≥n est√°ndar para num√©ricas.
>
> -   Histograma en miniatura de distribuci√≥n.

> ‚úçÔ∏è Nota t√©cnica:<br>
>
> -   La media de satisfaction es ‚âà 3.53, dentro de una escala de 1 a 5.
>
> -   La variable tourist_rating tiene moda en valor 4.
>
> -   Las variables `accessibility, site_name, route_id, etc.`, tienen
>     valores repetidos y claramente categ√≥ricos.


> üìù Interpretaci√≥n t√©cnica:<br>
>
> -   No se detectan valores perdidos (NA) en el dataset, lo que permite
>     aplicar an√°lisis sin necesidad de imputaci√≥n ni eliminaci√≥n de
>     registros.


------------------------------------------------------------------------


# Preparar dataset para el an√°lisis (Tablas y Gr√°ficos)

## üõ†Ô∏è Preparar dataset expandido

```{r dataset-expandido}
datos_expandido <- datos %>%
  mutate(interests = str_replace_all(interests, "\\[|\\]|‚Äò|‚Äô|'|\"", "")) %>%
  separate_rows(interests, sep = ",\\s*") %>%
  mutate(interests = str_trim(interests)) %>%
  mutate(grupo = ifelse(accessibility, "Accesibilidad", "Sin Accesibilidad"))

head(datos_expandido, 5) # mostra las primeras 5 filas del dataframe
```

> ‚õî  Aclaraci√≥n metodol√≥gica:  <br>
>
> - La columna interests fue descompuesta mediante separate_rows() para representar cada tipo de inter√©s como una fila independiente. Esto permiti√≥ obtener frecuencias limpias y realizar an√°lisis por categor√≠a individual.<br>
>
> ‚ö†Ô∏è Es importante destacar que este dataset expandido (datos_expandido) no debe usarse para an√°lisis globales, ya que un mismo turista aparece m√∫ltiples veces. Se usar√° solo en an√°lisis cruzados por tipo de inter√©s.<br>
> - **Esta misma estrategia se aplicar√° m√°s adelante a `sites_visited,` que tambi√©n contiene listas multivaluadas.**



> ‚ÑπÔ∏è Puedes pulsar el √≠cono de "flecha ‚ñ∂Ô∏è" en la esquina superior
> derecha de la tabla HTML para explorarlas.


## üßÆ Tabla cruzada: grupo + inter√©s + satisfacci√≥n

```{r tabla-cruzada-grupo-interes-satisfaccion}
tabla_interes_grupo <- datos_expandido %>%
  group_by(grupo, interests) %>%
  summarise(
    media_satisfaccion = round(mean(satisfaction, na.rm = TRUE), 2),
    n = n()
  ) %>%
  arrange(interests, desc(grupo))

kable(tabla_interes_grupo, caption = "Satisfacci√≥n media por grupo y tipo de inter√©s") %>%
  kable_styling(full_width = FALSE)

head(tabla_interes_grupo, 5) # mostra las primeras 5 filas del dataframe
```


## üßÆ Tabla: media de satisfacci√≥n por tipo de inter√©s

```{r tabla-media-satisfaccion-interes}
tabla_interes_satisfaccion <- datos_expandido %>%
  group_by(interests) %>%
  summarise(
    media_satisfaccion = round(mean(satisfaction, na.rm = TRUE), 2),
    n = n()
  ) %>%
  arrange(desc(media_satisfaccion))

kable(tabla_interes_satisfaccion, caption = "Media de satisfacci√≥n por inter√©s tur√≠stico") %>%
  kable_styling(full_width = FALSE)

head(tabla_interes_satisfaccion, 5) # mostra las primeras 5 filas del dataframe
```


## üßÆ Tabla: sitios visitados

```{r descomponer-sitios-visitados}
# Descomponer los sitios visitados
sitios_limpios <- datos %>%
  mutate(sites_visited = str_replace_all(sites_visited, "\\[|\\]|‚Äò|‚Äô|'|\"", "")) %>%
  separate_rows(sites_visited, sep = ",\\s*") %>%
  mutate(sites_visited = str_trim(sites_visited)) %>%
  count(sites_visited, sort = TRUE)

head(sitios_limpios, 5) # presenta las primeras 5 filas del dataframe

```

> ‚ÑπÔ∏è La funci√≥n count(sites_visited, sort = TRUE) es una otra manera de agrupar los valores para evitar duplicar los sitios visitados en los conteos.Aunque cada turista se repita en varias filas (una por cada sitio),` count()` agrupa por nombre del sitio (`sites_visited`) y cuenta cu√°ntas veces aparece cada uno.

------------------------------------------------------------------------


# üîé üìä An√°lisis exploratorio y Visualizaci√≥n de variables clave

## üßÆ Tabla de frecuencias de intereses tur√≠sticos

```{r tabla-frecuencias-intereses-turisticos}
kable(intereses_limpios, caption = "Frecuencia de intereses tur√≠sticos (limpios)") %>%
  kable_styling(full_width = FALSE, bootstrap_options = c("striped", "hover"))

```


## üìà Matriz de Correlaci√≥n

Matriz de Correlaci√≥n con la librer√≠a `ggcorrplot`

```{r correlaciones, fig.width=9, fig.height=8}
# Crear matriz de correlaci√≥n
datos_numeric <- datos %>% select_if(is.numeric)
cor_matrix <- cor(datos_numeric, use = "complete.obs")

# Gr√°fico con ajustes visuales
ggcorrplot(cor_matrix,
           hc.order = TRUE,
           type = "lower",
           lab = TRUE,
           lab_size = 4,                # Aumentar tama√±o texto dentro
           colors = c("red", "white", "darkgreen"),
           title = "Mapa de calor de correlaciones (variables num√©ricas)",
           ggtheme = theme_minimal(),
           tl.cex = 10,                 # Tama√±o etiquetas en ejes
           #tl.srt = 0,                  # Etiquetas horizontales
           tl.col = "black")            # Color de etiquetas

# Guardar la gr√°fica en archivo PNG 
ggsave("matriz-de-correlacion-ggcorrplot.png", width = 8, height = 5, dpi = 300)
```

Matriz de Correlaci√≥n con la librer√≠a `corrplot`

```{r mapa-calor-corrplot, fig.width=8, fig.height=8}

# Seleccionar variables num√©ricas
datos_numeric <- datos %>% select_if(is.numeric)

# Calcular matriz de correlaci√≥n
cor_matrix <- cor(datos_numeric, use = "complete.obs")

# Crear mapa de calor con corrplot
corrplot(cor_matrix,
         method = "color",
         type = "lower",
         order = "hclust", # ordena por similitud
         tl.col = "black", # color etiquetas
         tl.cex = 0.8,     # tama√±o etiquetas
         tl.srt = 45,      # inclinaci√≥n
         addCoef.col = "black", # valores de correlaci√≥n
         col = colorRampPalette(c("red", "white", "green"))(200),
         title = "Mapa de calor de correlaciones (corrplot)",
         mar = c(1, 1, 1, 1))  # m√°rgenes
```


> ‚ÑπÔ∏è Nota: Matriz de Correlaci√≥n <br>
>
> -   `tourist_rating` y `satisfaction` tienen una alta correlaci√≥n
>     positiva (‚âà 0.85).<br>
>
> -   El resto de variables tienen correlaciones d√©biles o moderadas.




## üìà Gr√°fico de barras de `tourist_rating`

Analizando la distribuci√≥n de la valoraci√≥n del turista, que es una
variable ordinal. Esta variable ser√° tratada como num√©rica en an√°lisis
inferencial, pero visualizadas como factores para claridad gr√°fica.

```{r grafico-tourist-rating, fig.width=10, fig.height=6}
# Convertir a factor ordenado para evitar barras fuera de orden
ggplot(datos, aes(x = factor(round(tourist_rating, 1)))) +
  geom_bar(fill = "skyblue", width = 0.85) +
  labs(title = "Distribuci√≥n de Tourist Rating",
       x = "Tourist Rating (redondeado)",
       y = "Frecuencia") +
  theme_minimal() +
  theme(
    axis.text.x = element_text(size = 10, angle = 45, hjust = 0),  # Aumentar tama√±o eje x
    axis.text.y = element_text(size = 12),  # Aumentar tama√±o eje y
    axis.title = element_text(size = 14),
    plot.title = element_text(size = 16, face = "bold")
  )

# Guardar la gr√°fica en archivo PNG 
ggsave("grafico-tourist-rating.png", width = 8, height = 5, dpi = 300)

```


## üìà Gr√°fico de barras de `vr_experience_quality`

Analizando la distribuci√≥n de la calidad de la experiencia VR, que
tambi√©n es una variable ordinal. Esta variable ser√° tratada como
num√©rica en an√°lisis inferencial, pero visualizadas como factores para
claridad gr√°fica.

```{r grafico-barras-vr_experience_quality}
# Gr√°fico de barras de vr_experience_quality
ggplot(datos, aes(x = factor(vr_experience_quality))) +
  geom_bar(fill = "orange") +
  labs(title = "Distribuci√≥n de Calidad de la Experiencia VR", x = "VR Quality", y = "Frecuencia")


# Guardar la gr√°fica en archivo PNG 
ggsave("grafico-barras-vr_experience_quality.png", width = 8, height = 5, dpi = 300)

```

## üìà Gr√°fico de barras de `recommendation_accuracy`

Analizando la distribuci√≥n de la precisi√≥n del sistema de recomendaci√≥n,
que es una variable continua.

```{r grafico-barras-recommendation_accuracy}
ggplot(datos, aes(x = recommendation_accuracy)) +
  geom_histogram(binwidth = 5, fill = "darkgreen", color = "white") +
  labs(title = "Precisi√≥n del sistema de recomendaci√≥n", x = "Porcentaje (%)", y = "Frecuencia")


# Guardar la gr√°fica en archivo PNG 
ggsave("grafico-barras-recommendation_accuracy.png", width = 8, height = 5, dpi = 300)

```

> üìù **Interpretaci√≥n t√©cnica:**
>
> -   Las variables `tourist_rating`, `vr_experience_quality` y
>     `recommendation_accuracy` muestran distribuciones razonablemente
>     centradas hacia valores altos.
>
> -   Esto respalda la percepci√≥n general de buena experiencia, aunque
>     los valores de satisfaction todav√≠a requieren an√°lisis m√°s
>     profundo.


## üìà Gr√°fico de barras horizontales de `interests`

```{r grafico-barras-horizontales-interests}
ggplot(intereses_limpios, aes(x = reorder(interests, n), y = n)) +
  geom_col(fill = "steelblue") +
  coord_flip() +
  labs(title = "Frecuencia de intereses tur√≠sticos", x = "Inter√©s", y = "Frecuencia")

# Guardar la gr√°fica en archivo PNG 
ggsave("grafico-barras-horizontales-interests.png", width = 8, height = 5, dpi = 300)

```

> üìù **Interpretaci√≥n t√©cnica:**
>
> -   Los intereses m√°s frecuentes son: `Nature` y `Art`.
> -   Esto refuerza que la mayor√≠a de turistas se orientan hacia experiencias naturales y art√≠sticas.


## Intereses cruzados con satisfacci√≥n y accesibilidad
Analizar si hay diferencias en la satisfacci√≥n media seg√∫n el tipo de inter√©s tur√≠stico y seg√∫n el grupo (con/sin accesibilidad).


### üìà Gr√°fico: satisfacci√≥n media por inter√©s (ordenada)

```{r grafico-satisfacion-media-interes}
ggplot(tabla_interes_satisfaccion, aes(x = reorder(interests, media_satisfaccion), y = media_satisfaccion)) +
  geom_col(fill = "forestgreen") +
  coord_flip() +
  labs(title = "Satisfacci√≥n media por tipo de inter√©s", x = "Inter√©s", y = "Media de satisfacci√≥n")

# Guardar la gr√°fica en archivo PNG 
ggsave("grafico-satisfacion-media-interes.png", width = 8, height = 5, dpi = 300)

```


> üìù **Interpretaci√≥n t√©cnica:**
>
> -   Algunos intereses como `Nature` y `Architecture` tienen mayor nivel medio de satisfacci√≥n.
> -   Al comparar grupos, no se observan grandes diferencias de satisfacci√≥n por inter√©s entre personas con y sin accesibilidad, pero algunas categor√≠as muestran peque√±as variaciones que podr√≠an explorarse m√°s.
> -   Este an√°lisis abre la puerta a un modelo explicativo m√°s profundo (ANOVA o regresi√≥n), aunque aqu√≠ nos centramos en descripci√≥n y comparaci√≥n b√°sica.



## üë±üë¥ Segmentaci√≥n del an√°lisis por grupo etario

```{r analisis-grupo-etario}
# Crear rangos de edad y ubicar grupo_edad justo despu√©s de age
datos <- datos %>%
  mutate(grupo_edad = case_when(
    age < 25 ~ "Menores de 25",
    age >= 25 & age < 35 ~ "25-34",
    age >= 35 & age < 45 ~ "35-44",
    age >= 45 & age < 60 ~ "45-59",
    age >= 60 ~ "60+",
    TRUE ~ "No Especificado"
  )) %>%
  relocate(grupo_edad, .after = age)  # <- Mueve grupo_edad despu√©s de age

# Ver las primeras filas
head(datos, 10)

```


### üßÆ Resumen estad√≠stico por grupo de edad

```{r remunen-grupo-edad}
# Resumen estad√≠stico por grupo de edad
datos %>%
  group_by(grupo_edad) %>%
  summarise(
    media_satisfaccion = round(mean(satisfaction, na.rm = TRUE), 2),
    n = n()
  ) %>%
  arrange(desc(media_satisfaccion)) %>%
  kable(caption = "Satisfacci√≥n media por grupo de edad") %>%
  kable_styling(full_width = FALSE)

```


> üìù **Interpretaci√≥n t√©cnica:**
>
> -   El grupo de edad con mayor satisfacci√≥n media es el de **45 a 59 a√±os (3.57)**, seguido por **Menores de 25 (3.55)** y **60+ (3.54)**.
> -   Aunque la diferencia entre grupos es peque√±a (menos de 0.1 puntos en una escala de 1 a 5), se observa una **tendencia leve de mayor satisfacci√≥n en edades intermedias y mayores**.
> -   Se observa un valor menor de satisfacci√≥n en las franjas etaarias de 25-34 a√±os donde se puede personalizar las ofertas tur√≠sticas priorizando los segmentos como este, con menor nivel medio de satisfacci√≥n.


```{r grafica-doblebarras-compartivo-accesibilidad}
# Agrupar por inter√©s y accesibilidad
tabla_interes_grupo <- datos_expandido %>%
  group_by(interests, grupo) %>%
  summarise(media_satisfaccion = round(mean(satisfaction), 2), .groups = "drop")

# Gr√°fico comparativo sin limitar eje
ggplot(tabla_interes_grupo, aes(x = media_satisfaccion, y = reorder(interests, media_satisfaccion), fill = grupo)) +
  geom_col(position = "dodge") +
  labs(title = "Satisfacci√≥n media por tipo de inter√©s y accesibilidad",
       x = "Media de satisfacci√≥n",
       y = "Tipo de inter√©s") +
  theme_minimal() +
  theme(axis.text = element_text(size = 10),
        legend.position = "right")

# Guardar la gr√°fica en archivo PNG 
ggsave("grafica-doblebarras-compartivo-accesibilidad.png", width = 8, height = 5, dpi = 300)


```


> üìù **Interpretaci√≥n t√©cnica:**
>
> -   La satisfacci√≥n media por tipo de inter√©s se mantiene en un rango estrecho entre ~3.52 y ~3.55 en todos los casos, lo que indica experiencias positivas estables independientemente del tipo de inter√©s tur√≠stico.
> -   Los intereses que muestran ligeramente mayor satisfacci√≥n (para ambos grupos) son:`Nature` y `Architecture`
> -   Las diferencias entre los grupos de Accesibilidad y Sin Accesibilidad son m√≠nimas (inferiores a 0.02), lo cual no indica una brecha significativa en la experiencia por esta variable.
> -   Esto sugiere que las condiciones de accesibilidad est√°n bien resueltas en los contextos tur√≠sticos estudiados, al menos en relaci√≥n con el tipo de inter√©s.
> -   Sin embargo, se podr√≠an explorar m√°s a fondo mediante un modelo explicativo (ej. regresi√≥n) si se desea identificar efectos combinados (inter√©s √ó accesibilidad).


### üìà Gr√°fico: Top 10 sitios tur√≠sticos m√°s visitados

```{r top-10-sitios-visitados}
# Seleccionar los 10 sitios m√°s visitados
sitios_top10 <- sitios_limpios %>%
  top_n(10, n) %>%
  arrange(desc(n))

# Gr√°fico de barras horizontales con etiquetas
ggplot(sitios_top10, aes(x = n, y = reorder(sites_visited, n))) +
  geom_col(fill = "skyblue") +
  geom_text(aes(label = n), hjust = -0.1, size = 3) +
  labs(
    title = "Top 10 sitios tur√≠sticos m√°s visitados",
    x = "Frecuencia de visitas",
    y = "Sitio tur√≠stico"
  ) +
  theme_minimal() +
  theme(axis.text = element_text(size = 10)) +
  xlim(0, max(sitios_top10$n) * 1.1)  # Espacio para etiquetas

# Guardar la gr√°fica en archivo PNG 
ggsave("grafica-top-10-sitios-visitados.png", width = 8, height = 5, dpi = 300)

```


> üìù **Interpretaci√≥n t√©cnica:**
>
> -   El gr√°fico revela una clara preferencia por sitios emblem√°ticos de alto reconocimiento internacional, liderados por la Eiffel Tower (2072 visitas), Taj Mahal (2012) y el Colosseum (1994).
> -   Todos los sitios del top 10 superan las 1900 visitas, lo que indica una alta concentraci√≥n de inter√©s tur√≠stico en √≠conos culturales y arquitect√≥nicos.
> -   La diferencia entre el primer y el d√©cimo lugar es relativamente peque√±a, lo que sugiere que la demanda est√° distribuida de forma bastante equilibrada entre los sitios m√°s famosos.
> -   Este patr√≥n puede estar influido por:
>   -   La inclusi√≥n recurrente de estos lugares en rutas tur√≠sticas populares.
>   -   La alta visibilidad digital (presencia en gu√≠as, redes sociales, plataformas de reservas).
>   -   Su accesibilidad o fama como ‚Äúdestinos imperdibles‚Äù.



------------------------------------------------------------------------

# ‚ùì ¬øLa satisfacci√≥n media es significativamente mayor que 3?

Esta es la primera pregunta de investigaci√≥n y esta descripta en la
**Parte 1** del informe.

## Contexto del problema

Se analiza la satisfacci√≥n general de los turistas utilizando una escala
de 1 a 5. Se desea verificar si la media poblacional supera el umbral de
3 puntos, valor considerado como referencia para experiencias positivas
en este dataset.

El valor central de una escala Likert de 1 a 5 se calcula como:

$$
\mu_0 = \frac{1 + 5}{2} = 3
$$

## Prueba estad√≠stica

Se aplicar√° una prueba t de una muestra, que eval√∫a si la media muestral
difiere significativamente de un valor de referencia (**Œº‚ÇÄ = 3**).<br>

**Hip√≥tesis:**<br>

\> - **H‚ÇÄ: Œº ‚â§ 3** (la satisfacci√≥n media no supera 3)<br>

\> - **H‚ÇÅ: Œº \> 3** (la satisfacci√≥n media es superior a 3)

## An√°lisis descriptivo y gr√°fico

```{r resumen-satisfaccion}
summary(datos$satisfaction)
```

## üìä Visualizaci√≥n

### An√°lisis inferencial de la satisfacci√≥n tur√≠stica

```{r histograma-satisfaccion}
ggplot(datos, aes(x = satisfaction)) +
  geom_histogram(bins = 15, fill = "steelblue", color = "white") +
  geom_vline(xintercept = 3, linetype = "dashed", color = "red") +
  labs(title = "Distribuci√≥n de la satisfacci√≥n tur√≠stica", x = "Satisfacci√≥n", y = "Frecuencia")

# Guardar la gr√°fica en archivo PNG
ggsave("histograma-satisfaccion.png", width = 8, height = 5, dpi = 300)

```

> ‚ÑπÔ∏è Nota:<br>
>
> -   La mayor√≠a de valores est√°n entre 3 y 4.<br>
>
> -   La distribuci√≥n est√° sesgada hacia valores bajos.<br>
>
> -   La media de satisfacci√≥n es de aproximadamente 3.53, con una
>     desviaci√≥n est√°ndar de 1.12.



## Contraste de hip√≥tesis

```{r}
# Test t de una muestra para verificar si la media de satisfacci√≥n supera 3
test_una_muestra <- t.test(datos$satisfaction, mu = 3, alternative = "greater")

# Mostramos el resultado completo
test_una_muestra
```


> üìù **Interpretaci√≥n t√©cnica:**<br>
>
> -   El test t muestra que la media observada es `r round(test_una_muestra$estimate, 2)`.
> -   El p-valor es `r signif(test_una_muestra$p.value, 4)`, por lo tanto se rechaza la hip√≥tesis nula H‚ÇÄ.
> -   Existe evidencia estad√≠stica suficiente para afirmar que la satisfacci√≥n media supera el valor de referencia de 3.
------------------------------------------------------------------------


# ‚ùì¬øExisten diferencias seg√∫n accesibilidad?

Esta es la segunda pregunta de investigaci√≥n y esta descripta en la
**Parte 2** del informe.

## Contexto del problema

Se analiza si hay diferencias significativas entre turistas con
necesidades de accesibilidad frente a quienes no requieren
accesibilidad. Se comparan los valores medios de satisfacci√≥n entre
estos dos grupos.<br>

## Prueba estad√≠stica <br>

**Hip√≥tesis:**<br>

\> - **H‚ÇÄ: Œº‚ÇÅ = Œº‚ÇÇ** (no hay diferencia entre ambos grupos)<br>

\> - **H‚ÇÅ: Œº‚ÇÅ ‚â† Œº‚ÇÇ** (existe diferencia significativa)

## Agrupamiento y estad√≠sticos

Preparaci√≥n de los grupos

```{r crear-grupos}
datos <- datos %>%
  mutate(grupo = ifelse(accessibility, "Accesibilidad", "Sin Accesibilidad"))
```

## Resumen estad√≠stico por grupo

```{r estadisticas-grupo}
datos %>%
  group_by(grupo) %>%
  summarise(media = mean(satisfaction), sd = sd(satisfaction), n = n())
```

## üìä Visualizaci√≥n comparativa

```{r boxplot-satisfaccion}
ggplot(datos, aes(x = grupo, y = satisfaction, fill = grupo)) +
  geom_boxplot() +
  labs(title = "Satisfacci√≥n por accesibilidad", x = "Grupo", y = "Satisfacci√≥n")

# Guardar la gr√°fica en archivo PNG
ggsave("boxplot-satisfaccion.png", width = 8, height = 5, dpi = 300)

```

> ‚ÑπÔ∏è Ambos grupos muestran medias similares, y rangos cercanos. No hay
> indicios gr√°ficos de diferencia significativa.

## Contraste de hip√≥tesis

```{r test-t-dos-grupos}
# Ejecutar prueba y guardar p-valor
test_dos_grupos <- t.test(satisfaction ~ grupo, data = datos)

p_valor <- signif(test_dos_grupos$p.value, 4)
media_acces <- round(mean(datos$satisfaction[datos$grupo == "Accesibilidad"]), 3)
media_sin <- round(mean(datos$satisfaction[datos$grupo == "Sin Accesibilidad"]), 3)

test_dos_grupos
```


> üìù **Interpretaci√≥n t√©cnica:**<br>
>
> -   El p-valor es `r signif(test_dos_grupos$p.value, 4)`, por lo tanto no se rechaza H‚ÇÄ.
> -   No hay diferencia significativa entre los grupos con y sin accesibilidad.


------------------------------------------------------------------------

# Exportaci√≥n del dataset limpio

```{r exportar-dataset}
write_csv(datos, "tourism_dataset_5000_limpio.csv")
```

------------------------------------------------------------------------


# üîö Resumen t√©cnico del an√°lisis y recomendaciones

## Cierre del an√°lisis y reflexiones finales

Este an√°lisis inferencial abord√≥ dos preguntas fundamentales sobre la experiencia tur√≠stica simulada:

* ‚úÖ **¬øLa satisfacci√≥n media supera el valor de referencia considerado positivo (3)?**
* ‚úÖ **¬øExisten diferencias en la satisfacci√≥n entre turistas con y sin necesidades de accesibilidad?**

Para ello, se desarroll√≥ un enfoque reproducible con R, estructurado en seis fases:

---

### üìä 1. Preparaci√≥n y limpieza de datos

* Se cargaron 5000 registros simulados desde el dataset de Kaggle *Cultural Tourism Dataset*.
* Se aplic√≥ normalizaci√≥n de nombres con `janitor` y se transformaron identificadores (`tourist_id`, `route_id`) en factores.
* Las columnas multivaluadas `interests` y `sites_visited` fueron **descompuestas en filas** para obtener conteos precisos por tipo de inter√©s y sitio tur√≠stico.

---

### üîç 2. Exploraci√≥n descriptiva y transformaciones

* Se generaron estad√≠sticas con `skimr` y gr√°ficos con `ggplot2`.
* Se cre√≥ la columna `grupo_edad` para an√°lisis etario, ordenada l√≥gicamente.
* Las escalas ordinales (`satisfaction`, `tourist_rating`, `vr_experience_quality`) se trataron como cuasi-continuas para facilitar an√°lisis param√©trico, siguiendo criterios justificados en la literatura acad√©mica [(Boone & Boone, 2012)](https://open.clemson.edu/joe/vol50/iss2/48/).

---

### üß™ 3. An√°lisis inferencial

* **Prueba t de una muestra (media de satisfacci√≥n):**

  * Resultado: p-valor extremadamente bajo (p < 0.0001), **se rechaza H‚ÇÄ**.
  * Conclusi√≥n: **la satisfacci√≥n media general (‚âà 3.53) es significativamente superior al umbral de referencia de 3**, aunque a√∫n lejana del m√°ximo (5).

* **Prueba t para dos grupos independientes (accesibilidad):**

  * Resultado: p-valor ‚âà 0.515, **no se rechaza H‚ÇÄ**.
  * Conclusi√≥n: **no existen diferencias estad√≠sticamente significativas en la satisfacci√≥n entre turistas con y sin necesidades de accesibilidad**.

---

### üîó 4. An√°lisis correlacional

* Se calcularon correlaciones con `ggcorrplot` y `corrplot`.
* La variable **`tourist_rating` muestra correlaci√≥n fuerte con `satisfaction` (‚âà 0.85)**.
* La calidad de la experiencia VR (`vr_experience_quality`) y la precisi√≥n del sistema de recomendaci√≥n (`recommendation_accuracy`) tambi√©n presentan correlaciones positivas aunque m√°s d√©biles.
* Variables como edad, duraci√≥n del tour o respuesta del sistema muestran **correlaciones muy bajas** con la satisfacci√≥n.

---

### üîé 5. Segmentaciones y patrones espec√≠ficos

* **Por grupo de edad:**

  * El grupo con mayor satisfacci√≥n media fue el de **45‚Äì59 a√±os (3.57)**, seguido por **menores de 25 (3.55)** y **60+ (3.54)**.
  * Se identific√≥ una leve tendencia de mayor satisfacci√≥n en edades intermedias y mayores.

* **Por tipo de inter√©s tur√≠stico:**

  * Las categor√≠as `Nature`, `Architecture` y `History` muestran mayor media de satisfacci√≥n.
  * El desglose por accesibilidad muestra **valores muy similares entre ambos grupos**, sin patrones fuertes diferenciadores.

* **Sitios tur√≠sticos m√°s visitados:**

  * Los 5 lugares con mayor frecuencia de visita fueron: *Eiffel Tower, Taj Mahal, Colosseum, Great Wall of China y Machu Picchu*.
  * Las diferencias entre ellos son peque√±as, indicando popularidad equilibrada entre √≠conos culturales y arquitect√≥nicos.

---

### ‚úÖ Conclusi√≥n general

* **La experiencia tur√≠stica medida por satisfacci√≥n general se percibe positivamente, aunque sin alcanzar el nivel m√°ximo.**
* **No se detectan brechas de satisfacci√≥n atribuibles a la accesibilidad, lo que sugiere que el sistema ofrece una experiencia inclusiva.**
* Los patrones observados por edad, intereses y sitios visitados permiten formular recomendaciones m√°s espec√≠ficas para futuras mejoras.



------------------------------------------------------------------------

> ‚ÑπÔ∏è Para obtener mayores informaciones sobre este proyecto [clique
> aqu√≠](https://github.com/ea-analisisdatos/unir/tree/main/analisis-interpretacion-de-datos/actividad3_analisis_turismo "Repositorio Github de Erika Alvares")
> y ser√° redireccionado a la p√°gina de GitHub del curso.

------------------------------------------------------------------------

# Referencias

-   Boone, H. N., & Boone, D. A. (2012). [*Analyzing Likert Data. Journal of Extension.*](https://open.clemson.edu/joe/vol50/iss2/48/ "Ir a la fuente")

-   Joshi, A., Kale, S., Chandel, S., & Pal, D. K. (2015). [*Likert Scale: Explored and Explained. British Journal of Applied Science & Technology.*](https://journalcjast.com/index.php/CJAST/article/view/381 "Ir a la fuente")

-   Montgomery, D. C., & Runger, G. C. (2014). *Probabilidad y estad√≠stica aplicada a la ingenier√≠a*. Wiley.

-   Cultural Tourism Dataset. (2022). [*Kaggle.*](https://www.kaggle.com/datasets/ziya07/cultural-tourism-dataset)
